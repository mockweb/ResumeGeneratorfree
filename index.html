<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pro CV Builder | Live Preview</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“„</text></svg>">
    
    <script src="https://pl28686320.effectivegatecpm.com/8e/cd/3e/8ecd3edb9d7df4a625eb902fd3bf70c8.js"></script>
     
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #1e293b;
            --bg: #f3f4f6;
            --paper: #ffffff;
            --text: #334155;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }

        body {
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- MODALS (Gatekeeper & Info Pages) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.9); z-index: 2000;
            display: none; justify-content: center; align-items: center;
            backdrop-filter: blur(5px);
            padding: 20px;
        }

        /* Active class to show modal */
        .modal-overlay.active { display: flex; }

        .modal-box {
            background: white; width: 100%; max-width: 600px;
            border-radius: 12px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            overflow: hidden; display: flex; flex-direction: column;
            max-height: 90vh;
        }

        .modal-header {
            padding: 20px; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
            background: #f8fafc;
        }
        .modal-title { font-weight: 800; font-size: 1.25rem; color: var(--secondary); }
        .close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #64748b; }

        .modal-body {
            padding: 25px; overflow-y: auto; font-size: 0.95rem; line-height: 1.6; color: #475569;
        }
        
        .modal-body h3 { color: var(--secondary); margin-top: 15px; margin-bottom: 8px; font-size: 1.1rem; }
        .modal-body p { margin-bottom: 15px; }
        .modal-body ul { padding-left: 20px; margin-bottom: 15px; }

        /* Gatekeeper Specific */
        #gatekeeper-modal .modal-box { max-width: 450px; text-align: center; }
        .gatekeeper-actions { padding: 20px; border-top: 1px solid var(--border); background: #f8fafc; }
        
        .btn-primary {
            background: var(--primary); color: white; border: none; padding: 12px 24px;
            border-radius: 8px; font-weight: 600; cursor: pointer; width: 100%;
            transition: 0.2s; font-size: 1rem;
        }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }

        /* --- MAIN APP --- */
        header {
            background: white; padding: 15px 30px; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
        }
        .brand { font-weight: 900; font-size: 1.5rem; color: var(--primary); letter-spacing: -0.5px; }
        .status-badge { background: #dcfce7; color: #166534; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        /* Ad Containers Styles */
        .ad-banner-top {
            display: flex; justify-content: center; align-items: center;
            padding: 20px 0; background: #f8fafc; border-bottom: 1px solid #e2e8f0;
        }
        
        .ad-tower-right {
            min-width: 170px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
        }

        .ad-box-editor {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px dashed #cbd5e1;
            display: flex;
            justify-content: center;
        }

        .ad-footer-banner {
            display: flex; justify-content: center; align-items: center;
            padding: 15px; border-top: 1px solid #e2e8f0; background: #fff;
        }

        .container {
            display: flex; gap: 30px; padding: 30px; max-width: 1800px; margin: 0 auto;
            flex: 1; width: 100%;
        }

        /* EDITOR (Left) */
        .editor {
            flex: 1; min-width: 350px; background: white; padding: 25px;
            border-radius: 12px; box-shadow: var(--shadow); height: fit-content;
        }

        .input-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.85rem; font-weight: 600; margin-bottom: 6px; color: #64748b; }
        input, textarea {
            width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 6px;
            font-size: 0.95rem; transition: border-color 0.2s;
        }
        input:focus, textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
        textarea { resize: vertical; min-height: 80px; }

        /* PREVIEW (Right) */
        .preview-area {
            flex: 1.4; background: #e2e8f0; border-radius: 12px;
            display: flex; justify-content: center; padding: 40px; overflow-x: auto;
        }

        /* A4 Paper */
        #resume-paper {
            width: 210mm; min-height: 297mm; background: white; padding: 50px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        /* Resume Styling */
        .r-header { border-bottom: 3px solid var(--secondary); padding-bottom: 30px; margin-bottom: 30px; display: flex; justify-content: space-between; }
        .r-name { font-size: 2.5rem; font-weight: 800; color: var(--secondary); text-transform: uppercase; line-height: 1; }
        .r-role { font-size: 1.2rem; color: var(--primary); font-weight: 600; margin-top: 10px; }
        .r-contact { margin-top: 15px; color: #64748b; font-size: 0.9rem; }
        
        .r-photo { width: 120px; height: 120px; background: #f1f5f9; border-radius: 8px; object-fit: cover; display: none; }

        .r-section-title {
            font-size: 1.1rem; color: var(--secondary); font-weight: 700;
            text-transform: uppercase; border-bottom: 1px solid #cbd5e1;
            padding-bottom: 8px; margin-bottom: 15px; margin-top: 25px;
        }

        .r-content { white-space: pre-wrap; line-height: 1.6; color: #334155; font-size: 0.95rem; }

        /* Footer */
        footer {
            text-align: center; padding: 10px; background: white; 
            font-size: 0.85rem; color: #64748b;
        }
        .footer-links a { color: var(--primary); text-decoration: none; margin: 0 10px; font-weight: 600; cursor: pointer; }
        .footer-links a:hover { text-decoration: underline; }

        /* Responsive */
        @media (max-width: 1250px) {
            /* Hide the right skyscraper ad on smaller screens so layout doesn't break */
            .ad-tower-right { display: none; }
        }

        @media (max-width: 900px) {
            .container { flex-direction: column; padding: 15px; }
            #resume-paper { width: 100%; min-height: auto; aspect-ratio: 210/297; padding: 20px; }
            .r-name { font-size: 1.8rem; }
            .ad-banner-top { display: none; } /* Optional: Hide top banner on very small mobile if needed */
        }
    </style>
</head>
<body>

    <div id="gatekeeper-modal" class="modal-overlay active">
        <div class="modal-box">
            <div class="modal-header" style="justify-content: center;">
                <h2 class="modal-title">Welcome to CV Builder</h2>
            </div>
            <div class="modal-body" style="text-align: center;">
                <p>Create a professional resume instantly in your browser.</p>
                <div style="background: #eff6ff; padding: 15px; border-radius: 8px; margin: 20px 0; font-size: 0.9rem; text-align: left;">
                    <strong>ðŸ”’ Privacy First:</strong><br>
                    â€¢ No data is uploaded to any server.<br>
                    â€¢ Everything stays on your device.<br>
                    â€¢ Data is lost if you refresh.
                </div>
                <div style="display: flex; gap: 10px; align-items: start; text-align: left; font-size: 0.9rem;">
                    <input type="checkbox" id="accept-check" onchange="toggleEnterBtn()" style="width: 20px; height: 20px; margin-top: 2px;">
                    <label for="accept-check">I agree to the <a href="#" onclick="openModal('terms-modal')">Terms of Service</a> and <a href="#" onclick="openModal('privacy-modal')">Privacy Policy</a>.</label>
                </div>
            </div>
            <div class="gatekeeper-actions">
                <button id="enter-btn" class="btn-primary" disabled onclick="enterSite()">Start Building Resume</button>
            </div>
        </div>
    </div>

    <div id="privacy-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h2 class="modal-title">Privacy Policy</h2>
                <button class="close-btn" onclick="closeModal('privacy-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p><strong>Last Updated: October 2025</strong></p>
                
                <h3>1. No Data Collection</h3>
                <p>We respect your privacy. This application operates entirely on the "Client-Side" (in your web browser). We do not have a backend server or database. We do not collect, store, or transmit any personal information you enter into this form.</p>

                <h3>2. Local Storage</h3>
                <p>Any information you type is temporarily held in your device's Random Access Memory (RAM). Once you close the browser tab or refresh the page, all data is permanently deleted from your view. We do not use cookies to track your behavior.</p>

                <h3>3. Image Uploads</h3>
                <p>Photos uploaded to the resume builder are processed locally within your browser using the FileReader API. Your images are never uploaded to the internet.</p>

                <h3>4. Third-Party Links</h3>
                <p>This tool contains no external links or third-party tracking scripts (like Google Analytics or Facebook Pixels).</p>
            </div>
        </div>
    </div>

    <div id="terms-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h2 class="modal-title">Terms & Conditions</h2>
                <button class="close-btn" onclick="closeModal('terms-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <h3>1. Acceptance of Terms</h3>
                <p>By accessing and using this Resume Builder, you accept and agree to be bound by the terms and provision of this agreement.</p>

                <h3>2. Usage License</h3>
                <p>This tool is free to use for personal and non-commercial purposes. You may generate unlimited resumes for your job applications.</p>

                <h3>3. Prohibited Conduct</h3>
                <p>You agree not to use this tool to create fraudulent documents, impersonate others, or generate content that violates local laws. The user is solely responsible for the accuracy of the data entered.</p>

                <h3>4. Disclaimer of Warranties</h3>
                <p>This software is provided "AS IS", without warranty of any kind. We are not responsible for any formatting errors or data loss resulting from browser crashes or refresh actions.</p>
                
                <h3>5. Intellectual Property</h3>
                <p>The code structure is a template. The content you enter belongs to you. The generated PDF/PNG file is your property.</p>
            </div>
        </div>
    </div>

    <header>
        <div class="brand">CV BUILDER PRO</div>
        <div class="status-badge">Secure Mode</div>
    </header>

    <div class="ad-banner-top">
        <script> atOptions = { 'key' : 'e2a3998f0df5d6150af6b4ea1c881fee', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} }; </script> <script src="https://www.highperformanceformat.com/e2a3998f0df5d6150af6b4ea1c881fee/invoke.js"></script>
    </div>

    <div class="container">
        <div class="editor">
            <div class="input-group">
                <label>Profile Photo</label>
                <input type="file" id="inp-photo" accept="image/*">
            </div>
            <div class="input-group">
                <label>Full Name</label>
                <input type="text" id="inp-name" placeholder="Ex: Rahul Sharma">
            </div>
            <div class="input-group">
                <label>Job Title</label>
                <input type="text" id="inp-role" placeholder="Ex: Software Engineer">
            </div>
            <div class="input-group">
                <label>Contact Info (Email | Phone)</label>
                <input type="text" id="inp-contact" placeholder="rahul@email.com | +91 98765 43210">
            </div>
            <div class="input-group">
                <label>Summary / Objective</label>
                <textarea id="inp-summary" placeholder="Brief professional summary..."></textarea>
            </div>
            <div class="input-group">
                <label>Experience</label>
                <textarea id="inp-exp" placeholder="â€¢ Senior Developer at Company A (2022-Present)&#10;â€¢ Junior Dev at Company B (2020-2022)" style="min-height: 120px;"></textarea>
            </div>
            <div class="input-group">
                <label>Education</label>
                <textarea id="inp-edu" placeholder="â€¢ B.Tech in CS, Mumbai University (2020)"></textarea>
            </div>
            <div class="input-group">
                <label>Skills</label>
                <textarea id="inp-skills" placeholder="Java, Python, Leadership, Communication"></textarea>
            </div>

            <button class="btn-primary" onclick="downloadResume()" style="margin-top: 10px;">Download Resume (PNG)</button>

            <div class="ad-box-editor">
                <script> atOptions = { 'key' : '551e90d034c264ca854d3dd0eee42f72', 'format' : 'iframe', 'height' : 300, 'width' : 160, 'params' : {} }; </script> <script src="https://www.highperformanceformat.com/551e90d034c264ca854d3dd0eee42f72/invoke.js"></script>
            </div>
        </div>

        <div class="preview-area">
            <div id="resume-paper">
                <div class="r-header">
                    <div>
                        <div class="r-name" id="out-name">RAHUL SHARMA</div>
                        <div class="r-role" id="out-role">SOFTWARE ENGINEER</div>
                        <div class="r-contact" id="out-contact">rahul@email.com | +91 98765 43210</div>
                    </div>
                    <img id="out-photo" class="r-photo" src="" alt="Profile Photo">
                </div>

                <div class="r-section-title">Professional Summary</div>
                <div class="r-content" id="out-summary">A motivated professional with extensive experience...</div>

                <div class="r-section-title">Experience</div>
                <div class="r-content" id="out-exp">Your work history will appear here instantly as you type...</div>

                <div class="r-section-title">Education</div>
                <div class="r-content" id="out-edu">Your education details...</div>

                <div class="r-section-title">Skills</div>
                <div class="r-content" id="out-skills">Your skills...</div>
            </div>
        </div>

        <div class="ad-tower-right">
            <script> atOptions = { 'key' : '3d168704906e7047134c74c241682394', 'format' : 'iframe', 'height' : 600, 'width' : 160, 'params' : {} }; </script> <script src="https://www.highperformanceformat.com/3d168704906e7047134c74c241682394/invoke.js"></script>
        </div>
    </div>

    <div class="ad-footer-banner">
        <script> atOptions = { 'key' : 'a3f6d492ee770f617e31720f4c54a05e', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} }; </script> <script src="https://www.highperformanceformat.com/a3f6d492ee770f617e31720f4c54a05e/invoke.js"></script>
    </div>

    <footer>
        <div class="footer-links">
            <a onclick="openModal('privacy-modal')">Privacy Policy</a> | 
            <a onclick="openModal('terms-modal')">Terms & Usage</a>
        </div>
        <p style="margin-top: 10px;">&copy; 2025 CV Builder Pro. All rights reserved.</p>
    </footer>

    <canvas id="exportCanvas" style="display:none;"></canvas>

    <script>
        /* --- MODAL LOGIC --- */
        function toggleEnterBtn() {
            const chk = document.getElementById('accept-check');
            const btn = document.getElementById('enter-btn');
            btn.disabled = !chk.checked;
        }

        function enterSite() {
            document.getElementById('gatekeeper-modal').classList.remove('active');
        }

        function openModal(id) {
            document.getElementById(id).classList.add('active');
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        /* --- LIVE PREVIEW LOGIC --- */
        const inputs = ['name', 'role', 'contact', 'summary', 'exp', 'edu', 'skills'];

        inputs.forEach(id => {
            const el = document.getElementById('inp-' + id);
            el.addEventListener('input', () => {
                document.getElementById('out-' + id).innerText = el.value || (id === 'name' ? 'YOUR NAME' : '...');
            });
        });

        // Photo Handler
        document.getElementById('inp-photo').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = document.getElementById('out-photo');
                    img.src = event.target.result;
                    img.style.display = 'block';
                }
                reader.readAsDataURL(file);
            }
        });

        /* --- DOWNLOAD LOGIC (Canvas) --- */
        function downloadResume() {
            const canvas = document.getElementById('exportCanvas');
            const ctx = canvas.getContext('2d');
            
            // High Res A4
            canvas.width = 1654; 
            canvas.height = 2339;

            // Fill White
            ctx.fillStyle = "white";
            ctx.fillRect(0,0, canvas.width, canvas.height);

            // Settings
            const pad = 100;
            let y = 120;
            const colDark = "#1e293b";
            const colBlue = "#2563eb";

            // Helper for Text Wrap
            function wrapText(txt, x, y, maxW, lh) {
                const lines = txt.split('\n');
                for (let i = 0; i < lines.length; i++) {
                    const words = lines[i].split(' ');
                    let line = '';
                    for (let n = 0; n < words.length; n++) {
                        const testLine = line + words[n] + ' ';
                        const metrics = ctx.measureText(testLine);
                        if (metrics.width > maxW && n > 0) {
                            ctx.fillText(line, x, y);
                            line = words[n] + ' ';
                            y += lh;
                        } else { line = testLine; }
                    }
                    ctx.fillText(line, x, y);
                    y += lh;
                }
                return y;
            }

            // Header
            ctx.fillStyle = colDark;
            ctx.font = "bold 60px sans-serif";
            ctx.fillText(document.getElementById('out-name').innerText, pad, y);
            y += 60;
            
            ctx.fillStyle = colBlue;
            ctx.font = "bold 40px sans-serif";
            ctx.fillText(document.getElementById('out-role').innerText, pad, y);
            y += 50;

            ctx.fillStyle = "#64748b";
            ctx.font = "30px sans-serif";
            ctx.fillText(document.getElementById('out-contact').innerText, pad, y);
            y += 80;

            // Draw Photo (Simple Square)
            const img = document.getElementById('out-photo');
            if(img.src && img.style.display !== 'none'){
                ctx.drawImage(img, canvas.width - pad - 200, 100, 200, 200);
            }

            // Line
            ctx.strokeStyle = colDark;
            ctx.lineWidth = 3;
            ctx.beginPath(); ctx.moveTo(pad, y); ctx.lineTo(canvas.width - pad, y); ctx.stroke();
            y += 60;

            // Sections
            function drawSec(title, text) {
                ctx.fillStyle = colDark;
                ctx.font = "bold 35px sans-serif";
                ctx.fillText(title.toUpperCase(), pad, y);
                y += 50;
                
                ctx.fillStyle = "#334155";
                ctx.font = "30px sans-serif";
                y = wrapText(text, pad, y, canvas.width - (pad*2), 45);
                y += 60;
            }

            drawSec("Professional Summary", document.getElementById('out-summary').innerText);
            drawSec("Experience", document.getElementById('out-exp').innerText);
            drawSec("Education", document.getElementById('out-edu').innerText);
            drawSec("Skills", document.getElementById('out-skills').innerText);

            // Save
            const link = document.createElement('a');
            link.download = 'My-Resume.png';
            link.href = canvas.toDataURL();
            link.click();
        }
    </script>
</body>
</html>
